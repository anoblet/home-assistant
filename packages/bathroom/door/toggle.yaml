bathroom_door_toggle_exhaust_fan:
  automation:
    - alias: "Bathroom Door Toggle Exhaust Fan"
      id: bathroom_door_toggle_exhaust_fan
      mode: single
      trigger:
        platform: state
        entity_id: binary_sensor.bathroom_contact_open
      action:
        - choose:
            - conditions:
                - condition: state
                  entity_id: binary_sensor.bathroom_contact_open
                  state: "on"
              sequence:
                - delay:
                    seconds: 5
                - service: switch.turn_off
                  entity_id: switch.bathroom_exhaust_fan
            - conditions:
                - condition: state
                  entity_id: binary_sensor.bathroom_contact_open
                  state: "off"
              sequence:
                - delay:
                    seconds: 5
                - service: switch.turn_on
                  entity_id: switch.bathroom_exhaust_fan
